---
- name: Create web directory
  file:
    path: /etc/web
    state: directory

- name: Create JS directory
  file:
    path: /etc/web/js
    state: directory
    
- name: Copy js file
  copy:
    src: js/script.js
    dest: /etc/web/js/

- name: Copy file to Node
  copy:
    src: "{{item}}"
    dest: /etc/web/
  loop:
    - docker-compose.yaml
    - Dockerfile
    - index.html
    - nginx.conf
  
- name: Run docker compose to Deploy
  community.docker.docker_compose:
    project_src: /etc/web/