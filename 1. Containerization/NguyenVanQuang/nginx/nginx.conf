upstream logic_tier {
    server logic_tier_1:5000 weight=7;
    server logic_tier_2:5000 weight=3;
}
server {
    listen 80;
    server_name localhost;

    location / {
        proxy_pass http://logic_tier/;
    }
    location /v1 {
        proxy_pass http://logic_tier_1:5000/;
    }
    location /v2 {
        proxy_pass http://logic_tier_2:5000/;
    }
}