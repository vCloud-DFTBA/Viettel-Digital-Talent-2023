{"ast":null,"code":"import _slicedToArray from\"/home/liinhhnt/VDTCloud2023/Viettel-Digital-Talent-2023/1. Containerization/NguyenThiLinh/web_crud/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// EditStudent Component for update student data\n// Import Modules\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import StudentForm from\"./StudentForm\";import{useParams}from\"react-router-dom\";// EditStudent Component\nimport{jsx as _jsx}from\"react/jsx-runtime\";var EditStudent=function EditStudent(props){var _useState=useState({fullName:'',doB:'',gender:'',school:'',major:''}),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useParams=useParams(),id=_useParams.id;// console.log(id);\n//onSubmit handler\nvar onSubmit=function onSubmit(studentObject){axios.put(\"http://localhost:5000/api/attendees\"+id,studentObject).then(function(res){if(res.status===200){alert(\"Student successfully updated\");props.history.push(\"/\");}else Promise.reject();}).catch(function(err){return alert(\"Student updated successfully\");});};// Load data from server and reinitialize student form\nuseEffect(function(){axios.get(\"http://localhost:5000/api/attendees/getone/\"+id).then(function(res){var _res$data=res.data,fullName=_res$data.fullName,gender=_res$data.gender,doB=_res$data.doB,school=_res$data.school,major=_res$data.major;setFormValues({fullName:fullName,gender:gender,doB:doB,school:school,major:major});// console.log(id);\n}).catch(function(err){return console.log(err);});},[]);// Return student form\nreturn/*#__PURE__*/_jsx(StudentForm,{initialValues:formValues,onSubmit:onSubmit,enableReinitialize:true,children:\"Update Student\"});};// Export EditStudent Component\nexport default EditStudent;","map":{"version":3,"names":["React","useState","useEffect","axios","StudentForm","useParams","jsx","_jsx","EditStudent","props","_useState","fullName","doB","gender","school","major","_useState2","_slicedToArray","formValues","setFormValues","_useParams","id","onSubmit","studentObject","put","then","res","status","alert","history","push","Promise","reject","catch","err","get","_res$data","data","console","log","initialValues","enableReinitialize","children"],"sources":["/home/liinhhnt/VDTCloud2023/Viettel-Digital-Talent-2023/1. Containerization/NguyenThiLinh/web_crud/front-end/src/Components/edit-student.component.js"],"sourcesContent":["// EditStudent Component for update student data\r\n  \r\n// Import Modules\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport StudentForm from \"./StudentForm\";\r\nimport { useParams } from \"react-router-dom\";\r\n// EditStudent Component\r\nconst EditStudent = (props) => {\r\n  const [formValues, setFormValues] = useState(\r\n    { fullName: '', doB: '', gender: '', school: '', major: '' }\r\n  );\r\n  const { id } =useParams();\r\n  // console.log(id);\r\n  //onSubmit handler\r\n  const onSubmit = (studentObject) => {\r\n    axios\r\n      .put(\r\n        \"http://localhost:5000/api/attendees\" +\r\n         id,\r\n        studentObject\r\n      )\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          alert(\"Student successfully updated\");\r\n           props.history.push(\"/\");\r\n        } else Promise.reject();\r\n      })\r\n      .catch((err) => alert(\"Student updated successfully\"));\r\n  };\r\n  \r\n  // Load data from server and reinitialize student form\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        \"http://localhost:5000/api/attendees/getone/\" \r\n        + id\r\n      )\r\n      .then((res) => {\r\n        const { fullName, gender, doB, school, major} = res.data;\r\n        setFormValues({fullName, gender, doB, school, major});\r\n        // console.log(id);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  \r\n  // Return student form\r\n  return (\r\n    <StudentForm\r\n      initialValues={formValues}\r\n      onSubmit={onSubmit}\r\n      enableReinitialize\r\n    >\r\n      Update Student\r\n    </StudentForm>\r\n  );\r\n};\r\n  \r\n// Export EditStudent Component\r\nexport default EditStudent;"],"mappings":"kMAAA;AAEA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAK,CAC7B,IAAAC,SAAA,CAAoCT,QAAQ,CAC1C,CAAEU,QAAQ,CAAE,EAAE,CAAEC,GAAG,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAG,CAC7D,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAP,SAAA,IAFMQ,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAGhC,IAAAI,UAAA,CAAcf,SAAS,CAAC,CAAC,CAAjBgB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV;AACA;AACA,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,aAAa,CAAK,CAClCpB,KAAK,CACFqB,GAAG,CACF,qCAAqC,CACpCH,EAAE,CACHE,aACF,CAAC,CACAE,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBC,KAAK,CAAC,8BAA8B,CAAC,CACpCnB,KAAK,CAACoB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,CAC1B,CAAC,IAAM,CAAAC,OAAO,CAACC,MAAM,CAAC,CAAC,CACzB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAN,KAAK,CAAC,8BAA8B,CAAC,GAAC,CAC1D,CAAC,CAED;AACA1B,SAAS,CAAC,UAAM,CACdC,KAAK,CACFgC,GAAG,CACF,6CAA6C,CAC3Cd,EACJ,CAAC,CACAI,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,IAAAU,SAAA,CAAgDV,GAAG,CAACW,IAAI,CAAhD1B,QAAQ,CAAAyB,SAAA,CAARzB,QAAQ,CAAEE,MAAM,CAAAuB,SAAA,CAANvB,MAAM,CAAED,GAAG,CAAAwB,SAAA,CAAHxB,GAAG,CAAEE,MAAM,CAAAsB,SAAA,CAANtB,MAAM,CAAEC,KAAK,CAAAqB,SAAA,CAALrB,KAAK,CAC5CI,aAAa,CAAC,CAACR,QAAQ,CAARA,QAAQ,CAAEE,MAAM,CAANA,MAAM,CAAED,GAAG,CAAHA,GAAG,CAAEE,MAAM,CAANA,MAAM,CAAEC,KAAK,CAALA,KAAK,CAAC,CAAC,CACrD;AACF,CAAC,CAAC,CACDkB,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAI,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,mBACE3B,IAAA,CAACH,WAAW,EACVoC,aAAa,CAAEtB,UAAW,CAC1BI,QAAQ,CAAEA,QAAS,CACnBmB,kBAAkB,MAAAC,QAAA,CACnB,gBAED,CAAa,CAAC,CAElB,CAAC,CAED;AACA,cAAe,CAAAlC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}